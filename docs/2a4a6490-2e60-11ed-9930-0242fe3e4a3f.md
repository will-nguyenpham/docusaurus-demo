---
id: "2a4a6490-2e60-11ed-9930-0242fe3e4a3f"
title: "Working with BDD feature files in Katalon Studio"
slug: "create-tests/manage-test-artifacts/working-with-bdd-feature-files-in-katalon-studio"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="concept-1981" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Working with BDD feature files in <span xmlns="http://www.w3.org/1999/xhtml" className="ph">Katalon Studio</span> 

<p xmlns="http://www.w3.org/1999/xhtml" className="shortdesc">Learn how to work with BDD feature files in <span className="ph">Katalon Studio</span>.</p> 

## <a id="task-7199" class="anchor_top_offset"/>Add Feature Files

<p xmlns="http://www.w3.org/1999/xhtml" className="shortdesc">This section shows you how to add feature files in <span className="ph">Katalon Studio</span>. Steps in the scenario will then be defined by step definitions.</p> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section context">To add a new feature files in <span className="ph">Katalon Studio</span>, do as follows:</section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">In <span className="ph">Katalon Studio</span>, open a Katalon project. Then, navigate to <span className="ph uicontrol">Test Explorer</span> &gt; <span className="ph uicontrol">Include</span> &gt; <span className="ph uicontrol">features</span>. Right-click on the <span className="ph uicontrol">features</span> folder and choose <span className="ph uicontrol">New Feature File</span>.</span><div className="itemgroup info"><img className="image" width={500} src={useBaseUrl("/96273b70-22b2-11ed-9930-0242fe3e4a3f.png")} alt="create new feature file" /></div></li><li className="li step stepexpand"><span className="ph cmd">The <span className="ph uicontrol">New Feature File</span> dialog appears. Give your feature file a name. You may also choose to <span className="ph uicontrol">Generate sample Feature template</span>. This option ensures that the created features file matches with BDD convention.</span><div className="itemgroup info"><img className="image" width={400} src={useBaseUrl("/96223260-22b2-11ed-9930-0242fe3e4a3f.png")} alt="new feature file" /></div><div className="itemgroup stepresult">A new feature file is created.<img className="image" width={750} src={useBaseUrl("/961f7340-22b2-11ed-9930-0242fe3e4a3f.png")} alt="new feature file" /></div></li><li className="li step stepexpand"><span className="ph cmd">Add your scenarios to the feature file following the sample format:</span><div className="itemgroup info"><ul className="ul"><li className="li"><p className="p">Feature: List of scenarios.</p></li><li className="li"><p className="p">Scenario: Business rule through list of steps with arguments.</p></li><li className="li"><p className="p">Scenario Outline: Used where test data is replaced with multiple sets of data for each run of a test script.</p></li><li className="li"><p className="p">Given: Precondition step.</p></li><li className="li"><p className="p">When: Key actions.</p></li><li className="li"><p className="p">Then: Observe outcomes or validation.</p></li><li className="li"><p className="p">And, But: Enumerate more <strong className="ph b">Given, When, Then</strong> steps.</p></li><li className="li"><p className="p">Background: List of steps run before each of the scenarios.</p></li><li className="li"><p className="p">Examples: Container for data set.</p></li><li className="li"><p className="p">Tags/ Labels: To group relevant scenarios. Using tags is a good way to organize features and scenario. A feature or scenario may have multiple tags.</p></li></ul></div><div className="itemgroup info">For example, to test the Login feature of the Katalon Demo Cura System (<code className="ph codeph">https://katalon-demo-cura.herokuapp.com/</code>), there are two scenario outlines: login with a valid credential, and login with an invalid credential. In each scenario, there are specific <strong className="ph b">Given, When, Then</strong> steps as shown below:</div><div className="itemgroup info"><img className="image" width={700} src={useBaseUrl("/96219620-22b2-11ed-9930-0242fe3e4a3f.png")} alt="log in feature file" /></div><div className="itemgroup info"><strong className="ph b">Sample Feature File Script:</strong><pre className="pre codeblock"><code>#Author: your.email@your.domain.com{"\n"}#Keywords Summary :{"\n"}#Feature: List of scenarios.{"\n"}#Scenario: Business rule through list of steps with arguments.{"\n"}#Given: Some precondition step{"\n"}#When: Some key actions{"\n"}#Then: To observe outcomes or validation{"\n"}#And,But: To enumerate more Given,When,Then steps{"\n"}#Scenario Outline: List of steps for data-driven as an Examples and &lt;placeholder&gt;{"\n"}#Examples: Container for s table{"\n"}#Background: List of steps run before each of the scenarios{"\n"}#""" (Doc Strings){"\n"}#| (Data Tables){"\n"}#@ (Tags/Labels):To group Scenarios{"\n"}#&lt;&gt; (placeholder){"\n"}#""{"\n"}## (Comments){"\n"}#Sample Feature Definition Template{"\n"}@Login{"\n"}Feature: Login Feature{"\n"}{"\n"}{"  "}As a user, I want to login to Cura System{"\n"}{"  "}so that I can make an appointment.{"\n"}{"\n"}{"  "}@Valid{"\n"}{"  "}Scenario Outline: Login with a valid credential{"\n"}{"    "}Given I navigate to Cura System homepage{"\n"}{"    "}When I click Make Appointment button{"\n"}{"    "}And I enter username &lt;username&gt; and password &lt;password&gt;{"\n"}{"    "}And I click Log in button {"\n"}{"    "}Then I should be able to login successfully{"\n"}{"\n"}{"    "}Examples: {"\n"}{"      "}| username | password{"           "}|{"\n"}{"      "}| John Doe | ThisIsNotAPassword |{"\n"}{"\n"}{"  "}@InValid{"\n"}{"  "}Scenario Outline: Login with an invalid credential{"\n"}{"    "}Given I navigate to Cura System homepage{"\n"}{"    "}When I click Make Appointment button{"\n"}{"    "}And I enter an invalid username &lt;username&gt; and password &lt;password&gt;{"\n"}{"    "}And I click Log in button{"\n"}{"    "}Then I should NOT be able to login successfully{"\n"}{"\n"}{"    "}Examples: {"\n"}{"      "}| username | password{"           "}|{"\n"}{"      "}| Jane Doe | ThisIsNotAPassword |</code></pre></div></li></ol> 

## <a id="id_2" class="anchor_top_offset"/>Maintain Features File

<div xmlns="http://www.w3.org/1999/xhtml" className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li"><p className="p"><span className="ph">Katalon Studio</span> code inspection can detect and highlight any missing Step Definitions in Features File to help you create the required step definitions.</p></li></ul></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">For better management, organize your feature files with a multi-level system. A feature file can contain many scenarios. However, you should have one scenario per feature file for easy maintenance.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">In <span className="ph">Katalon Studio</span>, there are three options to help you maintain the feature file. Right-click anywhere in the feature file editor view and choose from the following options:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" width={700} src={useBaseUrl("/1235f3a0-c155-11ed-a4d3-0242cfbc79b5.png")} /></p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><table className="table anchor_top_offset" id="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7"><caption /><colgroup><col /><col /></colgroup><thead className="thead"><tr className><th className="entry anchor_top_offset" id="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1">Option</th><th className="entry anchor_top_offset" id="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2">Description</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 ">Pretty Format</td><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 ">Re-do the format when the current format is not organized properly.</td></tr><tr className><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 ">Find Step</td><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 "><p className="p">Find relevant step of current Gherkin step in existing <span className="ph uicontrol">Step Definitions</span> files.</p></td></tr><tr className><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 ">Recalculate steps</td><td className="entry" headers="id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__1 id_2__94dfbe31-27f0-4d88-bbc3-8289edfdf0f7__entry__2 ">Recalculate steps in the feature file when there are changes in <span className="ph uicontrol">Step Definitions</span>.</td></tr></tbody></table></div>

## <a id="id_3" class="anchor_top_offset"/>Define Steps


### <a id="id_4" class="anchor_top_offset"/>Steps definitions

<p xmlns="http://www.w3.org/1999/xhtml" className="p">After you added your feature files, you need to define and link steps before using the features file. </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Each Gherkin step in the features file needs to be defined as a set of programming code so that <span className="ph">Katalon Studio</span> can execute the action of that step. These step definitions can be implemented in the <span className="ph uicontrol">Keyword</span> folder by leveraging the <span className="ph uicontrol">Script Mode</span>. </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><span className="ph">Katalon Studio</span> built-in keywords can also be re-used in <span className="ph uicontrol">Step Definition</span> files as well. When <span className="ph">Katalon Studio</span> executes any features files in a test case, it also looks for the matching step definitions in the source folder.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><span className="ph uicontrol">Step Definitions</span> can be written in any Cucumber-supported programming languages, including Groovy and Java.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">For example, for two scenario outlines (Login with a valid credential and login with an invalid credential), there are six (6) steps defined as shown below:</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li"><p className="p">Given I navigate to Cura System homepage</p></li><li className="li"><p className="p">When I click Make Appointment button</p></li><li className="li"><p className="p">And I enter username &lt;username&gt; and password &lt;password&gt;</p></li><li className="li"><p className="p">And I click Log in button</p></li><li className="li"><p className="p">Then I should be able to login successfully</p></li><li className="li"><p className="p">Then I should NOT be able to login successfully</p></li></ul> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" width={750} src={useBaseUrl("/96253fa0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="step definition" /></p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><strong className="ph b">Step Definitions Sample Script</strong></p> 
<pre xmlns="http://www.w3.org/1999/xhtml" className="pre codeblock"><code>class MyStepDefinition {"{"}{"\n"}{"\n"}{"    "}/**{"\n"}{"     "}* The step definitions below match with Katalon sample Gherkin steps{"\n"}{"     "}*/{"\n"}{"\n"}{"    "}@Given("I navigate to Cura System homepage"){"\n"}{"    "}def I_navigate_to_Cura_System_homepage() {"{"}{"\n"}{"\n"}{"        "}WebUI.openBrowser("https://katalon-demo-cura.herokuapp.com/"){"\n"}{"        "}//WebUI.waitForPageLoad(30){"\n"}{"    "}{"}"}{"\n"}{"\n"}{"    "}@When("I click Make Appointment button"){"\n"}{"    "}def I_click_makeAppointment_button() {"{"}{"\n"}{"\n"}{"        "}WebUI.click(findTestObject('Page_CURA Healthcare Service/a_Make Appointment')){"\n"}{"    "}{"}"}{"\n"} {"\n"}{"    "}@And("I enter username (.*) and password (.*)"){"\n"}{"    "}def I_enter_valid_username_password(String username, String password) {"{"}{"\n"}{"\n"}{"        "}WebUI.setText(findTestObject('Page_CURA Healthcare Service/input_userName'), username){"\n"}{"        "}WebUI.setText(findTestObject('Page_CURA Healthcare Service/input_password'), password){"\n"}{"    "}{"}"}{"\n"} {"\n"}{"    "}@And("I click Log in button"){"\n"}{"    "}def I_click_login_btn() {"{"}{"\n"}{"\n"}{"        "}WebUI.click(findTestObject('Page_CURA Healthcare Service/button_Login')){"\n"}{"    "}{"}"}{"\n"} {"\n"}{"    "}@Then("I should be able to login successfully"){"\n"}{"    "}def I_login_successfully() {"{"}{"\n"}{"\n"}{"        "}WebUI.click(findTestObject('Page_CURA Healthcare Service/button_Login')){"\n"}{"        "}WebUI.verifyTextPresent('Make Appointment', false){"\n"}{"        "}WebUI.closeBrowser(){"\n"}{"    "}{"}"}{"\n"}{"\n"}{"    "}@And("I enter an invalid username (.*) and password (.*)"){"\n"}{"    "}def I_enter_invalid_username_password(String username, String password) {"{"}{"\n"}{"\n"}{"        "}WebUI.setText(findTestObject('Page_CURA Healthcare Service/input_userName'), username){"\n"}{"        "}WebUI.setText(findTestObject('Page_CURA Healthcare Service/input_password'), password){"\n"}{"    "}{"}"}{"\n"}{"\n"} {"\n"}{"    "}@Then("I should NOT be able to login successfully"){"\n"}{"    "}def I_login_unsuccessfully() {"{"}{"\n"}{"\n"}{"        "}WebUI.verifyTextPresent('Login failed! Please ensure the username and password are valid.', false){"\n"}{"        "}WebUI.closeBrowser(){"\n"}{"    "}{"}"}{"\n"}{"\n"}{"}"}{"\n"}{"\n"}</code></pre> 
<h4 xmlns="http://www.w3.org/1999/xhtml" className="title topictitle4 anchor_top_offset" id="task-2831">How to define steps</h4> 
<p xmlns="http://www.w3.org/1999/xhtml" className="shortdesc">Steps in the feature files must be defined before use.</p> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section context"><p className="p">To create new step definitions, follow these steps:</p></section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">In <span className="ph uicontrol">Test Explorer</span>, navigate to the <span className="ph uicontrol">Include/scripts/groovy</span> folder. Right-click and choose <span className="ph uicontrol">New</span> &gt; <span className="ph uicontrol">Step Definition</span>.</span><div className="itemgroup stepresult">The <span className="ph uicontrol">Keyword</span> dialog appears.</div></li><li className="li step stepexpand"><span className="ph cmd">Choose your <span className="ph uicontrol">Package</span>, then enter your <span className="ph uicontrol">Class Name</span>. You may also enable the option to <span className="ph uicontrol">Generate sample @Given, @When, @Then steps</span>.</span><div className="itemgroup info"><img className="image" width={500} src={useBaseUrl("/96262a00-22b2-11ed-9930-0242fe3e4a3f.png")} alt="keyword" /></div></li><li className="li step stepexpand"><span className="ph cmd">Once you are done, click <span className="ph uicontrol">OK</span>.</span></li></ol> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section result">A new step definition is created.<p className="p"><img className="image" width={750} src={useBaseUrl("/96284ce0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="new step definition" /></p></section> 

### <a id="id_5" class="anchor_top_offset"/>Set the default package for step definitions

<div xmlns="http://www.w3.org/1999/xhtml" className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li">This capability is only available for Katalon Studio 7.8.0 and later.</li></ul></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">You can define the location of a step definitions for Cucumber by using <code className="ph codeph">CucumberKW.GLUE = ['package1', 'package2']</code>. The default value of <code className="ph codeph">CucumberKW.GLUE = ['']</code> is all packages, which means the test engine takes time to scan all the packages. Defining specific locations narrows down the packages to find the steps definitions before executing feature files; hence, reducing the execution time.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">We recommend putting the script of directing to a package in a test listener.</p> 
<pre xmlns="http://www.w3.org/1999/xhtml" className="pre codeblock"><code>import com.kms.katalon.core.annotation.AfterTestCase{"\n"}import com.kms.katalon.core.annotation.BeforeTestCase{"\n"}import com.kms.katalon.core.context.TestCaseContext{"\n"}import com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW{"\n"}{"\n"}class NewTestListener {"{"}{"\n"}{"    "}@BeforeTestCase{"\n"}{"    "}def sampleBeforeTestCase(TestCaseContext testCaseContext) {"{"}{"\n"}{"        "}CucumberKW.GLUE = ['package1', 'package2']{"\n"}{"    "}{"}"}{"\n"}{"}"}{"\n"}</code></pre> 

## <a id="id_7" class="anchor_top_offset"/>Run a Feature File

<p xmlns="http://www.w3.org/1999/xhtml" className="p"> <span className="ph">Katalon Studio</span> allows you to run the features file instantly by itself to make sure it works properly. </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">To do so, open the desired <span className="ph uicontrol">Features</span> file, then click the <span className="ph uicontrol">Run</span> button on the main toolbar, as shown below:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" width={400} src={useBaseUrl("/84081eb0-be4c-11ed-825f-0242cfbc79b5.png")} /></p> 

## <a id="id_1" class="anchor_top_offset"/>Set up Cucumber Hooks


### <a id="task-197" class="anchor_top_offset"/>Create Cucumber Features file

<section xmlns="http://www.w3.org/1999/xhtml" className="section context">To apply hooks in the Cucumber BDD test, you need to create a Cucumber Features file firstand its corresponding step definitions. </section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">To create a Cucumber Features file, go to <span className="ph uicontrol">File</span> &gt; <span className="ph uicontrol">New</span> &gt; <span className="ph uicontrol">BDD Feature File</span>.</span><div className="itemgroup stepresult"><img className="image" width={400} src={useBaseUrl("/96223260-22b2-11ed-9930-0242fe3e4a3f.png")} alt="new BDD feature file" />  <p className="p">Tick the <span className="ph uicontrol">Generate sample Feature template</span> option for a sample features file.</p><div className="p">The script below is a generated sample features template:<pre className="pre codeblock"><code>#Sample Feature Definition Template{"\n"}@tag{"\n"}Feature: Title of your feature{"\n"}I want to use this template for my feature file{"\n"}{"\n"}@tag1{"\n"}Scenario Outline: Title of your scenario outline{"\n"}{"    "}Given I want to write a step with &lt;name&gt;{"\n"}{"    "}When I check for the &lt;value&gt; in step{"\n"}{"    "}Then I verify the &lt;status&gt; in step{"\n"}{"\n"}{"    "}Examples: {"\n"}{"    "}| name{"  "}| value | status{"  "}|{"\n"}{"    "}| name1 |{"     "}5 | success |{"\n"}{"    "}| name2 |{"     "}7 | Fail{"    "}|</code></pre></div></div></li><li className="li step stepexpand"><span className="ph cmd">To create step definitions, go to <span className="ph uicontrol">File</span> &gt; <span className="ph uicontrol">New</span> &gt; <span className="ph uicontrol">Groovy Script</span>.</span><div className="itemgroup stepresult"><img className="image" width={400} src={useBaseUrl("/11a8ced0-c155-11ed-a4d3-0242cfbc79b5.png")} alt="Create step definition" /><div className="note attention note_attention"><span className="note__title">Attention:</span> <ul className="ul"><li className="li">You can only use custom keywords with BDD testing when the step definition belongs to the default package. If the package is different from the default package, you cannot call the custom keyword.</li></ul></div><p className="p">Tick the <span className="ph uicontrol">Generate sample @Given, @When, @Then steps</span> for sample step definitions.</p><div className="p">The script below is a generated sample @Given, @When, @Then steps:<pre className="pre codeblock"><code>class Sample {"{"}{"\n"}{"\n"}{"    "}/**{"\n"}{"    "}* The step definitions below match with Katalon sample Gherkin steps{"\n"}{"    "}*/{"\n"}{"    "}@Given("I want to write a step with (.*)"){"\n"}{"    "}def I_want_to_write_a_step_with_name(String name) {"{"}{"\n"}{"        "}println name{"\n"}{"    "}{"}"}{"\n"}{"\n"}{"    "}@When("I check for the (\\d+) in step"){"\n"}{"    "}def I_check_for_the_value_in_step(int value) {"{"}{"\n"}{"        "}println value{"\n"}{"    "}{"}"}{"\n"}{"\n"}{"    "}@Then("I verify the (.*) in step"){"\n"}{"    "}def I_verify_the_status_in_step(String status) {"{"}{"\n"}{"        "}println status{"\n"}{"    "}{"}"}{"\n"}{"}"}{"\n"}{"\n"}</code></pre></div></div></li></ol> 

### <a id="task-1753" class="anchor_top_offset"/>Add Cucumber Hooks

<section xmlns="http://www.w3.org/1999/xhtml" className="section context">To add Cucumber Hooks, do as follows.</section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Create another step definition or a custom keyword that includes       the Cucumber Hooks as shown below:</span><div className="itemgroup stepresult"><img className="image" width={700} src={useBaseUrl("/959f9950-be4c-11ed-825f-0242cfbc79b5.png")} /></div></li><li className="li step stepexpand"><span className="ph cmd">Enter Cucumber hooks into the new step definition.</span><div className="itemgroup stepresult">For example, to add <code className="ph codeph">@Before</code> and <code className="ph codeph">@After</code> scenario hooks,       copy and paste the following script into the features file:<pre className="pre codeblock"><code>class SampleTestHook {"{"}{"\n"}{"    "}@Before{"\n"}{"    "}public void beforeScenario(Scenario scenario) {"{"}{"\n"}{"        "}println 'This is a before scenario method: ' + scenario.getName(){"\n"}{"    "}{"}"}{"\n"}{"\n"}{"    "}@After{"\n"}{"    "}public void afterScenario(Scenario scenario) {"{"}{"\n"}{"        "}println 'This is a after scenario method: ' + scenario.getName(){"\n"}{"    "}{"}"}{"\n"}{"}"}{"\n"}</code></pre></div></li></ol> 
