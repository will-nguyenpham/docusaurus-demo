---
id: "96b809c0-22b2-11ed-9930-0242fe3e4a3f"
title: "GraphQL in Katalon Studio"
slug: "create-tests/test-objects/api-test-objects/graphql-in-katalon-studio"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="concept-3279" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>GraphQL in <span xmlns="http://www.w3.org/1999/xhtml" className="ph">Katalon Studio</span> 

<p xmlns="http://www.w3.org/1999/xhtml" className="shortdesc">This article provides basic information on GraphQL and how to work with GraphQL in Katalon Studio.</p> 

## <a id="concept-3591" class="anchor_top_offset"/>What is GraphQL?

<p xmlns="http://www.w3.org/1999/xhtml" className="p">GraphQL is a query language that allows API consumers to write queries to get the exact data they need from a single request to a single endpoint. GraphQL provides a detailed and easy-to-understand description of the data in your API, making it easier to evolve APIs over time. GraphQL queries get many resources in a single request and always return predictable results. Therefore, GraphQL significantly improves the efficiency and performance of API calls.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">To learn more about GraphQL, you can refer to GraphQL documentation: <a className="xref j-external-link" href="https://graphql.org/learn/" target="_blank">Introduction to GraphQL</a>.</p> 

## <a id="concept-949" class="anchor_top_offset"/>GraphQL testing in Katalon Studio

<p xmlns="http://www.w3.org/1999/xhtml" className="p">With this GraphQL testing in Katalon Studio, you can:</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li">Create a GraphQL test request with RESTful by GET and POST methods, using queries or mutations.</li><li className="li">Use query variables in a GraphQL request.</li><li className="li">Validate GraphQL request and response against schemas.</li></ul> 

### <a id="concept-7710" class="anchor_top_offset"/>Queries and mutations

<p xmlns="http://www.w3.org/1999/xhtml" className="p">The most typical GraphQL operations from the perspective of the client are queries and mutations. In terms of the CRUD model (create, read, update, and delete), a query is identical to read, using the GET method. Mutations handle all of the others, which are create, update, and delete.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Testing mutations are essential as it involves testing data access and additions to databases. Mutations modify data in the database and return us a value. Mutations can edit and manipulate the data from the server side.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">There are two ways to execute a GraphQL request with RestFUL in Katalon Studio: GET and POST methods. You can put the GraphQL query into the GET query parameter to create a GraphQL test request. GraphQL mutations only support the POST method.</p> 

### <a id="concept-5078" class="anchor_top_offset"/>Validate GraphQL request and response against a schema

<p xmlns="http://www.w3.org/1999/xhtml" className="p">Since GraphQL returns a response in JSON format, you can validate a GraphQL response against a JSON schema. This action also helps you troubleshoot the error without the HAR file.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">You can also validate a GraphQL  request body against a GraphQL schema to make sure the request is valid before sending the request to the server. The validation action happens on the server side. You receive the validation results in the <span className="ph uicontrol">Response</span> section if you use keywords in the <span className="ph uicontrol">Verification</span> tab or the <span className="ph uicontrol">Log Viewer</span> if you use keywords in a test case.</p> 

## <a id="task-6545" class="anchor_top_offset"/>Sending GraphQL queries using Query Parameters

<p xmlns="http://www.w3.org/1999/xhtml" className="shortdesc">This section shows you an example of how to send GraphQL queries using <span className="ph uicontrol">Query Parameters</span>. To learn more details about <span className="ph uicontrol">Query Parameters</span>, you can refer to this document: <a className="xref" href="/docs/create-tests/test-objects/api-test-objects/rest-request/parameterize-a-web-service-object-in-katalon-studio">Parameterize a Web Service Object</a>.</p> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section context">In this example, we want to get country information from the <code className="ph codeph">https://countries.trevorblades.com</code> website. Do as follows:</section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Create a <span className="ph uicontrol">Web Service Request</span> object and choose the <span className="ph uicontrol">Request Type</span> as <span className="ph uicontrol">RESTful</span>.</span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Web Service Request</span> object editor, choose the <span className="ph uicontrol">GET</span> request method.</span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">URL</span> field, input this GraphQL URL: <code className="ph codeph">https://countries.trevorblades.com/graphql?query=query Query {'{'} country(code: "VN") {'{'} name native capital emoji currency languages {'{'} code name {'}'} {'}'}{'}'}</code></span><div className="itemgroup info">Katalon Studio detects the query parameters after the question mark and lists them in the <span className="ph uicontrol">Query Parameters</span> table like below:<ul className="ul"><li className="li">Name: query</li><li className="li">Value: <code className="ph codeph">query Query {'{'} country(code: "VN") {'{'} name native capital emoji currency languages {'{'} code name {'}'} {'}'}{'}'}</code><img className="image" src={useBaseUrl("/96bd12d0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="query parameters" /></li></ul></div></li><li className="li step stepexpand"><span className="ph cmd">Save your request, then click <span className="ph uicontrol">Test Request and Verify</span>.</span></li></ol> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section result">In the <span className="ph uicontrol">Response</span> tab, the country information is returned as JSON responses.<img className="image" width={400} src={useBaseUrl("/96aa0000-22b2-11ed-9930-0242fe3e4a3f.png")} alt="GraphQL response" /></section> 

## <a id="task-3748" class="anchor_top_offset"/>Sending GraphQL queries and mutations in the HTTP Body

<section xmlns="http://www.w3.org/1999/xhtml" className="section context">POST requests usually use the application or JSON content type in the HTTP Body. To send a GraphQL query in the <span className="ph uicontrol">HTTP Body</span>, do as follows:</section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Create a <span className="ph uicontrol">Web Service Request</span> object and choose the <span className="ph uicontrol">Request Type</span> as <span className="ph uicontrol">RESTful</span>. </span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Web Service Request</span> object editor, choose the <span className="ph uicontrol">POST</span> request method.</span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">URL</span> field, input the GraphQL endpoint URL.</span><div className="itemgroup info">For example: <code className="ph codeph">https://katalon-sample-graphql-aut.herokuapp.com/graphql</code></div></li><li className="li step stepexpand"><span className="ph cmd">Switch to the <span className="ph uicontrol">HTTP Body</span> tab and choose the <span className="ph uicontrol">GraphQL</span> body type.<img className="image" width={700} src={useBaseUrl("/96b375e0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="GraphQL query" /></span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Query</span> textbox, insert your GraphQL query or mutation.</span><div className="itemgroup info">GraphQL query example:<pre className="pre codeblock"><code>query {"{"}{"\n"}findAllBooks {"{"}{"\n"}{"    "}id{"\n"}{"    "}title{"\n"}{"    "}isbn{"\n"}{"    "}pageCount{"\n"}{"    "}author {"{"}{"\n"}{"        "}id{"\n"}{"        "}firstName{"\n"}{"        "}lastName{"\n"}{"    "}{"}"}{"\n"}{"  "}{"}"}{"\n"}{"}"}{"\n"}</code></pre>GraphQL mutation example:<pre className="pre codeblock"><code>mutation {"{"}{"\n"}{"    "}deleteBook(id:3){"\n"}{"}"}{"\n"}</code></pre></div></li><li className="li step stepexpand"><span className="ph cmd">Save your request, then click <span className="ph uicontrol">Test Request and Verify</span>.</span></li><li className="li step stepexpand"><span className="ph cmd">View the result in the <span className="ph uicontrol">Response</span> tab. </span></li></ol> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section result">Below are some examples of using GraphQL queries and mutations in the test request object:<ul className="ul"><li className="li"><p className="p">Find all books using a GraphQL query<img className="image" src={useBaseUrl("/96baa1d0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="find all book" /></p></li><li className="li"><p className="p">Create a new book using a GraphQL mutation<img className="image" src={useBaseUrl("/96a3be70-22b2-11ed-9930-0242fe3e4a3f.png")} alt="create a new book" /></p></li><li className="li"><p className="p">Modify the name of a book using a GraphQL mutation<img className="image" src={useBaseUrl("/96a0b130-22b2-11ed-9930-0242fe3e4a3f.png")} alt="modify book name" /></p></li><li className="li"><p className="p">Delete a book using a GraphQL mutation<img className="image" src={useBaseUrl("/96a87960-22b2-11ed-9930-0242fe3e4a3f.png")} alt="delete a book" /></p></li></ul></section> 

## <a id="concept-9608" class="anchor_top_offset"/>Add a GraphQL request to a test case

<div xmlns="http://www.w3.org/1999/xhtml" className="p">You can add a GraphQL request into a test case. Katalon Studio generates a script that has send request method with a map of variables. Below is a sample test script generated:<pre className="pre codeblock"><code>res = WS.sendRequest(findTestObject('Country/CountryQueryVarsInVars', [('id') : 'US'])){"\n"}{"\n"}println CustomKeywords.'util.JSON.jsonBeautify'( res.getResponseBodyContent());</code></pre></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Save and run your test case. You can view the result of sending the request in the <span className="ph uicontrol">Log Viewer</span> tab.<img className="image" src={useBaseUrl("/96b74670-22b2-11ed-9930-0242fe3e4a3f.png")} alt="log viewer tab" /></p> 

## <a id="task-9476" class="anchor_top_offset"/>Use GraphQL variables

<section xmlns="http://www.w3.org/1999/xhtml" className="section context"><p className="p">To use GraphQL variables, do as follows:</p></section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Switch to the <span className="ph uicontrol">HTTP Body</span> tab and choose <span className="ph uicontrol">GraphQL</span> body type.</span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Query</span> textbox, insert your GraphQL query with defined variables.<img className="image" width={700} src={useBaseUrl("/96bc0160-22b2-11ed-9930-0242fe3e4a3f.png")} alt="GraphQL query" /></span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Query Variables</span> textbox, insert the values of your GraphQL variables.</span><div className="itemgroup info"><div className="p">Example 1: In the <span className="ph uicontrol">Query</span> textbox, input <code className="ph codeph">$id: ID!</code>, then define <code className="ph codeph">id</code> in the <span className="ph uicontrol">Query Variables</span> textbox:<pre className="pre codeblock"><code>{"{"}{"\n"}{"    "}"id" : "AU"{"\n"}{"}"}</code></pre></div></div><div className="itemgroup info"><p className="p">You can also use Katalon Studio variables as inputs for GraphQL variables using the <code className="ph codeph">${'{'}variable{'}'}</code> syntax.</p></div><div className="itemgroup info"><div className="p">Example 2: In the <span className="ph uicontrol">Query Variables</span> textbox, use Katalon Studio variable: <code className="ph codeph">${'{'}id{'}'}</code>.<pre className="pre codeblock"><code>{"{"}{"\n"}{"    "}"id" : "${"{"}id{"}"}"{"\n"}{"}"}{"\n"}</code></pre><img className="image" width={700} src={useBaseUrl("/96b4d570-22b2-11ed-9930-0242fe3e4a3f.png")} alt="query variable in variable" /></div></div><div className="itemgroup info">Then, navigate to the <span className="ph uicontrol">Variables</span> tab and define the variable name: <code className="ph codeph">id</code> the default value: <code className="ph codeph">"VN"</code> in our case.<img className="image" src={useBaseUrl("/96b598c0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="variables tab" /></div></li></ol> 

## <a id="task-9154" class="anchor_top_offset"/>Validate GraphQL request and response against schemas

<section xmlns="http://www.w3.org/1999/xhtml" className="section context">To validate a GraphQL request body and the response returns against schemas, do as follows:</section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Create a GraphQL web service request object.</span></li><li className="li step stepexpand"><span className="ph cmd">In the web service request object editor, switch to the <span className="ph uicontrol">Verification</span> tab.</span></li><li className="li step stepexpand"><span className="ph cmd">In the <span className="ph uicontrol">Verification</span> snippets, use the <code className="ph codeph">WS.validateGraphQLBodyAgainstSchema</code> with the request body and a schema. See <a className="xref" href="/docs/create-tests/keywords/keyword-description-in-katalon-studio/web-service-keywords/ws-validate-graphql-request-against-a-graphql-schema">[WS] Validate GraphQL request body against a GraphQL schema</a>.</span><div className="itemgroup info">The response returns as the JSON format, so you can also add the <code className="ph codeph">WS.validateJsonAgainstSchema</code> to validate the response. See <a className="xref" href="/docs/create-tests/keywords/keyword-description-in-katalon-studio/web-service-keywords/ws-validate-json-string-against-a-schema#id_4">[WS] Validate the response against a JSON schema</a>.</div><div className="itemgroup info">For example:<pre className="pre codeblock"><code>import static org.assertj.core.api.Assertions.*{"\n"}{"\n"}import com.kms.katalon.core.model.FailureHandling{"\n"}import com.kms.katalon.core.testobject.RequestObject{"\n"}import com.kms.katalon.core.testobject.ResponseObject{"\n"}import com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS{"\n"}import com.kms.katalon.core.webservice.verification.WSResponseManager{"\n"}{"\n"}import groovy.json.JsonSlurper{"\n"}import internal.GlobalVariable as GlobalVariable{"\n"}{"\n"}RequestObject request = WSResponseManager.getInstance().getCurrentRequest(){"\n"}{"\n"}ResponseObject response = WSResponseManager.getInstance().getCurrentResponse(){"\n"}{"\n"}WS.validateGraphQLBodyAgainstSchema(request, "Schema/Country.qls", FailureHandling.CONTINUE_ON_FAILURE){"\n"}{"\n"}WS.validateJsonAgainstSchema(response, "Schema/JSON/CountrySchema.json", FailureHandling.STOP_ON_FAILURE)</code></pre></div></li><li className="li step stepexpand"><span className="ph cmd">Save and click <span className="ph uicontrol">Test Request and Verify</span>.</span></li></ol> 
<section xmlns="http://www.w3.org/1999/xhtml" className="section result">You can view the validation result in the <span className="ph uicontrol">Response</span> section.<img className="image" src={useBaseUrl("/96aebaf0-22b2-11ed-9930-0242fe3e4a3f.png")} alt="response tab" /><p className="p">You can also validate the GraphQL request/ response against schemas in a test case and view the validation result in the <span className="ph uicontrol">Log Viewer</span>. For example:</p><p className="p"><img className="image" src={useBaseUrl("/96abfbd0-22b2-11ed-9930-0242fe3e4a3f.png")} /><img className="image" src={useBaseUrl("/96bec080-22b2-11ed-9930-0242fe3e4a3f.png")} /></p> <div className="p">Sample script:<pre className="pre codeblock"><code>import static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint{"\n"}import static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase{"\n"}import static com.kms.katalon.core.testdata.TestDataFactory.findTestData{"\n"}import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject{"\n"}import static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject{"\n"}import com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint{"\n"}import com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW{"\n"}import com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile{"\n"}import com.kms.katalon.core.model.FailureHandling as FailureHandling{"\n"}import com.kms.katalon.core.testcase.TestCase as TestCase{"\n"}import com.kms.katalon.core.testdata.TestData as TestData{"\n"}import com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW{"\n"}import com.kms.katalon.core.testobject.RequestObject{"\n"}import com.kms.katalon.core.testobject.TestObject as TestObject{"\n"}import com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS{"\n"}import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI{"\n"}import com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows{"\n"}import internal.GlobalVariable as GlobalVariable{"\n"}import org.openqa.selenium.Keys as Keys{"\n"}{"\n"}RequestObject req = findTestObject('Country/CountryQuerySchema');{"\n"}if (WS.validateGraphQLBodyAgainstSchema(req, "Schema/Country.qls")) {"{"}{"\n"}{"\t"}res = WS.sendRequest(findTestObject('Country/CountryQuerySchema')){"\n"}{"\t"}WS.validateAgainstJsonSchema(res, "Schema/JSON/CountrySchema.json"){"\n"}{"}"}</code></pre></div></section> 
