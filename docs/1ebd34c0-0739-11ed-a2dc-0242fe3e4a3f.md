---
id: "1ebd34c0-0739-11ed-a2dc-0242fe3e4a3f"
title: "Test Fixtures and Test Listeners (Test Hooks)"
slug: "katalon-studio-enterprise/create-tests-and-projects/manage-projects/test-fixtures-and-test-listeners-test-hooks"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="concept-3322" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Test Fixtures and Test Listeners (Test Hooks)

<p xmlns="http://www.w3.org/1999/xhtml" className="p">To extend your current testing flow, the test fixtures (setUp/tearDown methods) and test listeners might be useful for prerequisite and clean-up configurations for all the tests.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">With the prerequisite configuration, the test engine must take specific actions before starting test execution. For clean-up configuration, the test engine must carry out some actions after the test execution finishes.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">The infographic below visualizes how <span className="ph">Katalon Studio</span> executes your automated test projects with the test fixtures and test listeners methods.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" src={useBaseUrl("/1ec460b0-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="Execution flow" /></p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><div className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li"><p className="p">Test listeners are always triggered first if you define both test listeners and activate setUp/tearDown methods simultaneously.</p></li></ul></div></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">This document guides you through how to configure the setUp/tearDown methods and the test listeners in <span className="ph">Katalon Studio</span>ITCC.</p> 

## <a id="concept-4416" class="anchor_top_offset"/>setUp() and tearDown() for Test Suite and Test Case

<p xmlns="http://www.w3.org/1999/xhtml" className="p">In <span className="ph">Katalon Studio</span>, you can specify prerequisite and clean-up configurations for your test cases using the setUp and tearDown methods.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Here are some common usages of the setUp and tearDown methods:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><table className="table table--pgwide-1"><caption /><colgroup><col /><col /></colgroup><thead className="thead"><tr className><th className="entry anchor_top_offset" id="concept-4416__entry__1">Method</th><th className="entry anchor_top_offset" id="concept-4416__entry__2">Common usage</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="concept-4416__entry__1 concept-4416__entry__2 ">setUp</td><td className="entry" headers="concept-4416__entry__1 concept-4416__entry__2 "><ul className="ul"><li className="li">Prepare a testing environment, such as:<ul className="ul"><li className="li">Starting new browser with clean cookies</li><li className="li">Creating temporary and proxy databases, directories</li><li className="li">tarting a server process</li></ul></li><li className="li">Call required test cases for the executed test suite</li></ul></td></tr><tr className><td className="entry" headers="concept-4416__entry__1 concept-4416__entry__2 ">tearDown</td><td className="entry" headers="concept-4416__entry__1 concept-4416__entry__2 "><ul className="ul"><li className="li">Clean-up testing environment, such as:<ul className="ul"><li className="li">Closing connections to browsers</li><li className="li">Disconnecting from databases or server</li></ul></li><li className="li">Call tearDown test cases for the executed test suite</li></ul></td></tr></tbody></table></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">The table below describes the trigger conditions of these methods:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><table className="table table--pgwide-1"><caption /><colgroup><col /><col /><col /></colgroup><thead className="thead"><tr className><th className="entry anchor_top_offset" id="concept-4416__entry__7">Method</th><th className="entry anchor_top_offset" id="concept-4416__entry__8">Description</th><th className="entry anchor_top_offset" id="concept-4416__entry__9">Trigger Condition</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">setUp</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Setup test suite environment</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Before executed test suites</td></tr><tr className><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">setUpTestCase</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Run before each test case starts</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Before executed test cases</td></tr><tr className><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">tearDown</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Clean test suites environment</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">After executed test suites</td></tr><tr className><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">tearDownTestCase</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">Run after each test case ends</td><td className="entry" headers="concept-4416__entry__7 concept-4416__entry__8 concept-4416__entry__9 ">After executed test cases</td></tr></tbody></table></div>

### <a id="concept-3115" class="anchor_top_offset"/>Activate setUp and tearDown in a test suite

<p xmlns="http://www.w3.org/1999/xhtml" className="p">In the test suite editor, switch to the&nbsp;<span className="ph uicontrol">Script</span>&nbsp;tab to view the setUp and tearDown methods template.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" src={useBaseUrl("/1ee8ffb0-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="Setup teardown template" /></p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">By default, the setUp and tearDown methods are not triggered even if they match with provided trigger condition as shown in the below code sample:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><pre className="pre codeblock"><code>/**{"\n"} * Setup test suite environment.{"\n"} */{"\n"}@SetUp(skipped = true) // Please change skipped to be false to activate this method.{"\n"}def setUp() {"{"}{"\n"}{"\t"}// Put your code here.{"\n"}{"}"}</code></pre></div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">To activate the&nbsp;<strong className="ph b">setUp</strong>&nbsp;and&nbsp;<strong className="ph b">tearDown</strong>&nbsp;methods, you need to set the&nbsp;<strong className="ph b">skipped</strong>&nbsp;value to&nbsp;<strong className="ph b">false</strong>. For example:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><pre className="pre codeblock"><code>@SetUp(skipped = false)</code></pre></div>
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><div className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li"><p className="p">Executing with the setUp/tearDown methods still generates execution logs as usual.</p></li><li className="li"><p className="p">You cannot see setUp and tearDown executed reports from generated Test Suite report. You can only see&nbsp;<strong className="ph b">setUpTestCase</strong>&nbsp;and&nbsp;<strong className="ph b">tearDownTestCase</strong>&nbsp;in generated Test Suite report.</p><p className="p"><img className="image" src={useBaseUrl("/1efd23f0-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="ITCCSetup log viewer" /></p></li></ul></div></div>

### <a id="task-6308" class="anchor_top_offset"/>Add setUp and tearDown in manual view of a test case

<section xmlns="http://www.w3.org/1999/xhtml" className="section context"><p className="p">In the manual view of a test case, you can add the setUp and tearDown method by following these steps:</p></section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">Click on the drop-down button of the&nbsp;<span className="ph uicontrol">Add</span>&nbsp;icon and choose&nbsp;<span className="ph uicontrol">Method</span>. To learn more about the method statement, see&nbsp;<a className="xref" href="/docs/katalon-studio-enterprise/create-tests-and-projects/manage-projects/statements/define-method">Define Method</a>.</span><div className="itemgroup stepresult">The&nbsp;<span className="ph uicontrol">Method builder</span>&nbsp;dialog appears.</div></li><li className="li step stepexpand"><span className="ph cmd">Enter your method's name and its return value, then choose one of the options below:</span><div className="itemgroup info"><img className="image" width={600} src={useBaseUrl("/1f145570-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="Method builder dialog" /><div className="p"><table className="table"><caption /><colgroup><col /><col /></colgroup><thead className="thead"><tr className><th className="entry anchor_top_offset" id="task-6308__entry__1">Method</th><th className="entry anchor_top_offset" id="task-6308__entry__2">Description</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">Set Up</td><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">This method is always called first, before executing the main test steps.</td></tr><tr className><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">Tear Down If Failed</td><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">This method is called after executing all steps of the test case, if one of those steps is marked as&nbsp;<strong className="ph b">Failed</strong>.</td></tr><tr className><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">Tear Down If Passed</td><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">This method is called after executing all steps of the test case, if all of those steps are marked as&nbsp;<strong className="ph b">Pass</strong>.</td></tr><tr className><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">Tear Down If Error</td><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">This method is called after executing all the test case steps, if one of those steps is marked as&nbsp;<strong className="ph b">Error</strong>.</td></tr><tr className><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">Tear Down</td><td className="entry" headers="task-6308__entry__1 task-6308__entry__2 ">This method is called at the end of an execution.</td></tr></tbody></table></div></div></li><li className="li step stepexpand"><span className="ph cmd">To add a test step under a method, choose the line of that method, then click&nbsp;<span className="ph uicontrol">Add</span>. </span><div className="itemgroup stepresult">A new keyword is added under that method.<p className="p"><img className="image" src={useBaseUrl("/1f225f30-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="teardown step added to a test case" /></p><div className="p"><div className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li"><p className="p">The setUp/tearDown methods might be marked as&nbsp;<strong className="ph b">Error</strong>&nbsp;if any issue occurs during their execution. The possible exception is when the&nbsp;<strong className="ph b">AssertionError</strong>&nbsp;class is used, or if the methods are skipped.</p></li></ul></div></div></div></li></ol> 

### <a id="concept-703" class="anchor_top_offset"/>Add setUp and tearDown in the script view of a test case

<p xmlns="http://www.w3.org/1999/xhtml" className="p">In the script view of a test case, you can declare a method as setUp/tearDown methods using the matching annotation above them. For example:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><pre className="pre codeblock"><code>@com.kms.katalon.core.annotation.SetUp{"\n"}def setup(def param1, def param2) {"{"}{"\n"}{"}"}{"\n"}@com.kms.katalon.core.annotation.TearDownIfFailed{"\n"}def teardownIfFailed(def param1, def param2) {"{"}{"\n"}{"}"}{"\n"}@com.kms.katalon.core.annotation.TearDownIfPassed{"\n"}def teardownIfPassed(def param1, def param2) {"{"}{"\n"}{"}"}{"\n"}@com.kms.katalon.core.annotation.TearDownIfError{"\n"}def teardownIfError(def param1, def para2) {"{"}{"\n"}{"}"}{"\n"}@com.kms.katalon.core.annotation.TearDown{"\n"}def teardown(def param1, def param2) {"{"}{"\n"}{"}"}{"\n"}I</code></pre></div>

## <a id="concept-7786" class="anchor_top_offset"/>Test Listeners (Test Hooks)

<p xmlns="http://www.w3.org/1999/xhtml" className="p">Test listeners are test steps created to "listen" to the event defined in the script and behave accordingly. In this section, you will learn how to create a test listener.I</p> 

### <a id="task-2997" class="anchor_top_offset"/>Create new Test Listeners

<section xmlns="http://www.w3.org/1999/xhtml" className="section context"><p className="p">Test listeners are test artifacts. You can perform all basic operations such as create, copy/cut, rename, or delete with test listeners. To create a new test listener, do as follows:</p></section> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol steps"><li className="li step stepexpand"><span className="ph cmd">In the  <span className="ph uicontrol">Tests Explorer</span> panel, right-click on <span className="ph uicontrol">Test Listeners</span>. Select  <span className="ph uicontrol">New</span> &gt; <span className="ph uicontrol">New Test Listener</span>.</span><div className="itemgroup info"><img className="image" width={500} src={useBaseUrl("/f4279070-0738-11ed-a2dc-0242fe3e4a3f.png")} alt="Create a new test listener" /></div></li><li className="li step stepexpand"><span className="ph cmd">The <span className="ph uicontrol">New Test Listener</span> dialog appears with four options as below:</span><div className="itemgroup info"><img className="image" width={500} src={useBaseUrl("/1f3f8420-0739-11ed-a2dc-0242fe3e4a3f.png")} alt="New test listeners dialog" /><div className="p"><table className="table"><caption /><colgroup><col /><col /></colgroup><thead className="thead"><tr className><th className="entry anchor_top_offset" id="task-2997__entry__1">Option</th><th className="entry anchor_top_offset" id="task-2997__entry__2">Description</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Generate sample Before Test Case method</td><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Create a sample test listener executed before every test case starts.</td></tr><tr className><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Generate sample After Test Case method</td><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Create a sample test listener executed after every test case ends.</td></tr><tr className><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Generate sample Before Test Suite method</td><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Create a sample test listener executed before every test suite starts.</td></tr><tr className><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Generate sample After Test Suite method</td><td className="entry" headers="task-2997__entry__1 task-2997__entry__2 ">Create a sample test listener executed after every test suite ends</td></tr></tbody></table></div></div><div className="itemgroup tutorialinfo">You can select one or multiple options, then click&nbsp;<span className="ph uicontrol">OK</span>. </div><div className="itemgroup stepresult">Once finished, <span className="ph">Katalon Studio</span> generates a sample template accordingly. The template includes necessary annotations, libraries, and supported functions.<div className="p"><div className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li">You can create multiple test listeners.</li><li className="li">If you have more than one test listener class, the classes themselves are instantiated in Katalon storage in alphabetical order. Only then are the individual listener methods executed top-down.</li><li className="li">The execution status of any steps within test listers does not affect the overall status of the executed test case. For example, if you have a FAILED output in any of your test listeners, but the final status of the executed test case is PASSED, then the test case's status is PASSED.</li></ul></div></div><p className="p">You can view the test listener template here:</p><div className="p"><pre className="pre codeblock"><code>import internal.GlobalVariable as GlobalVariable{"\n"}{"\n"}import com.kms.katalon.core.annotation.BeforeTestCase{"\n"}import com.kms.katalon.core.annotation.BeforeTestSuite{"\n"}import com.kms.katalon.core.annotation.AfterTestCase{"\n"}import com.kms.katalon.core.annotation.AfterTestSuite{"\n"}import com.kms.katalon.core.context.TestCaseContext{"\n"}import com.kms.katalon.core.context.TestSuiteContext{"\n"}{"\n"}class NewTestListener {"{"}{"\n"}{"\t"}/**{"\n"}{"\t"} * Executes before every test case starts.{"\n"}{"\t"} * @param testCaseContext related information of the executed test case.{"\n"}{"\t"} */{"\n"}{"\t"}@BeforeTestCase{"\n"}{"\t"}def sampleBeforeTestCase(TestCaseContext testCaseContext) {"{"}{"\n"}{"\t"}{"\t"}println testCaseContext.getTestCaseId(){"\n"}{"\t"}{"\t"}println testCaseContext.getTestCaseVariables(){"\n"}{"\t"}{"}"}{"\n"}{"\n"}{"\t"}/**{"\n"}{"\t"} * Executes after every test case ends.{"\n"}{"\t"} * @param testCaseContext related information of the executed test case.{"\n"}{"\t"} */{"\n"}{"\t"}@AfterTestCase{"\n"}{"\t"}def sampleAfterTestCase(TestCaseContext testCaseContext) {"{"}{"\n"}{"\t"}{"\t"}println testCaseContext.getTestCaseId(){"\n"}{"\t"}{"\t"}println testCaseContext.getTestCaseStatus(){"\n"}{"\t"}{"}"}{"\n"}{"\n"}{"\t"}/**{"\n"}{"\t"} * Executes before every test suite starts.{"\n"}{"\t"} * @param testSuiteContext: related information of the executed test suite.{"\n"}{"\t"} */{"\n"}{"\t"}@BeforeTestSuite{"\n"}{"\t"}def sampleBeforeTestSuite(TestSuiteContext testSuiteContext) {"{"}{"\n"}{"\t"}{"\t"}println testSuiteContext.getTestSuiteId(){"\n"}{"\t"}{"}"}{"\n"}{"\t"}/**{"\n"}{"\t"} * Executes after every test suite ends.{"\n"}{"\t"} * @param testSuiteContext: related information of the executed test suite.{"\n"}{"\t"} */{"\n"}{"\t"}@AfterTestSuite{"\n"}{"\t"}def sampleAfterTestSuite(TestSuiteContext testSuiteContext) {"{"}{"\n"}{"\t"}{"\t"}println testSuiteContext.getTestSuiteId(){"\n"}{"\t"}{"}"}{"\n"}{"}"}</code></pre></div></div></li></ol> 
<h4 xmlns="http://www.w3.org/1999/xhtml" className="title topictitle4 anchor_top_offset" id="concept-1109">Example</h4> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">In this example, we will define multiple environments as different global variables by using test listeners. For more information, see&nbsp;<a className="xref" href="/docs/katalon-studio-enterprise/test-execution/data-driven-testing/global-variables-and-execution-profile">Global Variables and Execution Profile</a>.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Before you execute your test case, change the environment variable to your preferred environment by following the script below:</p> 
<div xmlns="http://www.w3.org/1999/xhtml" className="p"><pre className="pre codeblock"><code>import internal.GlobalVariable as GlobalVariable{"\n"}{"\n"}import com.kms.katalon.core.annotation.BeforeTestCase{"\n"}import com.kms.katalon.core.annotation.BeforeTestSuite{"\n"}import com.kms.katalon.core.annotation.AfterTestCase{"\n"}import com.kms.katalon.core.annotation.AfterTestSuite{"\n"}import com.kms.katalon.core.context.TestCaseContext{"\n"}import com.kms.katalon.core.context.TestSuiteContext{"\n"}{"\n"}/**{"\n"} * Executes before every test case starts.{"\n"} * @param testCaseContext related information of the executed test case.{"\n"} */{"\n"}{"\n"}@BeforeTestCase{"\n"}def sampleBeforeTestCase(TestCaseContext testCaseContext) {"{"}{"\n"}{"    "}if (GlobalVariable.gl_Environment == 'Local') {"{"}{"\n"}{"        "}GlobalVariable.gl_Url = 'localhost'{"\n"}{"    "}{"}"} else if (GlobalVariable.gl_Environment == 'Staging') {"{"}{"\n"}{"        "}GlobalVariable.gl_Url = 'staging'{"\n"}{"    "}{"}"}{"\n"}{"}"}</code></pre><div className="note note note_note"><span className="note__title">Note:</span> <ul className="ul"><li className="li"><p className="p">To learn more about test listeners, refer to chapter 2 of our <span className="ph">Katalon Academy</span> course:&nbsp;<a className="xref j-external-link" href="https://academy.katalon.com/courses/test-execution-management/?utm_source=kat_docs&utm_medium=test_listener" target="_blank">Test Listener</a>.</p></li></ul></div></div>
