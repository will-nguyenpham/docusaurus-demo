---
id: "98752310-22b2-11ed-9930-0242fe3e4a3f"
title: "Handling drag and drop testing for web applications with Katalon Studio"
slug: "create-tests/keywords/custom-keywords/handling-drag-and-drop-testing-for-web-applications-with-katalon-studio"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Handling drag and drop testing for web applications with <span xmlns="http://www.w3.org/1999/xhtml" className="ph">Katalon Studio</span> 

<p xmlns="http://www.w3.org/1999/xhtml" className="p"><img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/crop-1-1024x481.png")} alt="Drag & Drop testing Katalon Studio" /><br /><br /></p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Drag and drop is a fairly popular approach in modern websites to improve their overall UX. However, it could be very challenging to implement automation test for drag and drop components.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Since Katalon Studio 6.1.5, please install <a className="xref j-external-link" href="https://store.katalon.com/product/70/DragAndDrop-Keywords" target="_blank">DragAndDrop Keywords</a> plugin to use this feature.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">In this tutorial, we will show how <span className="ph">Katalon Studio</span> is used to test the drag and drop feature in a web application.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">This tutorial assumes that you are familiar with the tool's basic features. To have a quick idea of how it works or to review the interface, refer to <a className="xref j-external-link" href="https://academy.katalon.com/courses/katalon-end-to-end-platform/" target="_blank">Kickstart your automation testing using Katalon Studio</a>.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">There are different common implementation methods for the drag and drop feature, which each needs to be addressed differently when testing, including:</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li">Using pure JavaScript to handle drag and drop with popular JavaScript frameworks like <a className="xref j-external-link" href="http://jqueryui.com/droppable/#default" target="_blank">jQuery</a>.</li><li className="li">Using HTML5 Drag and Drop, which is detailed in w3schools' HTML Drag and Drop tutorial.</li></ul> 

## <a id="id_1" class="anchor_top_offset"/>Create automation tests for JavaScript Drag and Drop

<p xmlns="http://www.w3.org/1999/xhtml" className="p">Testing the pure JavaScript implemented drag and drop function   is quite straightforward with Katalon Studio as its built-in   keyword <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/webui-drag-and-drop-to-object.html" target="_blank"><strong className="ph b"><em className="ph i">dragAndDropObjectToObject</em></strong></a>   was designed to handle the JavaScript action natively.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">For this section, we will use the <a className="xref j-external-link" href="http://jqueryui.com/droppable/#default" target="_blank">jQuery Droppable     example page</a> as the application under test (AUT).</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/DragDrop1.png")} alt="Droppable Katalon Studio" /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">The example website provides a simple implementation of drag and   drop with a draggable object containing the text "Drag me to my   target" and a droppable object with the text "Drop here".</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">When the draggable object is dragged into the droppable object,   the target object's text will be changed to "Dropped!" like the   image below:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/DragDrop2.png")} alt="Drag & Drop Katalon Studio 2" /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">We are going to test this behavior using Katalon Studio.</p> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">Create a Katalon project with the name     <strong className="ph b">       <em className="ph i">DragAndDrop</em>     </strong>.</li><li className="li">Open the <a className="xref" href="/docs/create-tests/record-and-spy/webui-record-and-spy-utilities/spy-web-utility-in-katalon-studio">Object Spy</a> dialog, start a spy     object session and navigate to the AUT website at <a className="xref j-external-link" href="http://jqueryui.com/droppable/#default" target="_blank">http://jqueryui.com/droppable/#default</a>.</li><li className="li">Use the object spy utility to capture both the droppable object     and the draggable object mentioned above and import them into the     project's Object Repository. If you do it correctly, there will be     3 test objects as below in Object Repository and add navigation     path:<p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/DragDrop3.png")} alt="Tests Explorer Katalon Studio" /><br /><br />     </p><p className="p">The name of each object is self-explanatory, except for the       <strong className="ph b">         <em className="ph i">iframe</em>demo-frame_</strong> object which is the       parent iframe of both draggable and droppable objects. Now let's       use those captured objects in a test script.</p></li><li className="li">     <p className="p">Create a test case named "jQuery Drag And Drop", open it, then       change to Script mode and copy the following test scripts into       it:</p>     <pre className="pre codeblock"><code>import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject{"\n"}import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI{"\n"}{"\n"}{"\n"}'Open the selected browser and navigate to our AUT website.'{"\n"}WebUI.openBrowser('http://jqueryui.com/droppable/#default')'Use the dragAndDropObjectToObject keyword to perform the drag and drop action.'{"\n"}WebUI.dragAndDropToObject(findTestObject('Page_Droppable jQuery UI/div_draggable'), findTestObject('Page_Droppable jQuery UI/div_droppable'))'Get the text content of our droppable object.'{"\n"}droppable_text = WebUI.getText(findTestObject('Page_Droppable jQuery UI/div_droppable'))'Verify if it is actually changed to "Dropped!" because of the drag and drop action.'{"\n"}WebUI.verifyEqual(droppable_text, 'Dropped!')'Clean up the testing environment by closing the browser.'{"\n"}WebUI.closeBrowser(){"\n"}{"\n"}</code></pre>   </li><li className="li"> Run the test case and you will see that the executed test     will pass effortlessly.</li></ol> 

## <a id="id_2" class="anchor_top_offset"/>Create automation tests for HTML5 Drag and Drop

<p xmlns="http://www.w3.org/1999/xhtml" className="p">For this section, we will use the <a className="xref j-external-link" href="https://www.w3schools.com/html/html5_draganddrop.asp" target="_blank">w3school     HTML5 Drag and Drop page</a> as the application under test   (AUT):</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/w3school-HTML5-Drag-and-Drop-page.png")} /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">This web page contains a simple implementation of drag and drop   which allows you to simply drag the W3Schools.com image to change   its container. After the W3Schools image is dragged and dropped to   the right rectangle, it appears as below:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/drag-and-drop-custom-keyword-for-HTML-Drag-and-Drop.png")} /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">We will implement the drag and drop custom keyword for HTML Drag   and Drop, then verify the innerHTML of the right rectangle when the   drag and drop is completed.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Implementing an automation test for HTML5 Drag and Drop is a bit   more complex than the JavaScript version. If you run the test case   above to test this drag and drop feature, you will see that the   draggable image does not move although the test passes.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">This happens because as of the day of this article (May 22,   2017), Selenium still not provide official support for testing   HTML5 Drag and Drop. You can follow the related Selenium issue <a className="xref j-external-link" href="https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604" target="_blank">here</a>.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Therefore, as Katalon Studio utilizes Selenium for the   automation execution, implementing the automated test for HTML5   Drag and Drop requires a little bit of workaround:</p> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">Capture the draggable and droppable objects into the project's     repository like above. If done correctly we have 2 test objects as     below:<p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/drag_drop_web_applications_katalon_studio/DragDrop6.png")} alt="Tests Explorer Katalon Studio" /><br /><br />     </p><p className="p">       <strong className="ph b">         <em className="ph i">img</em>drag1 </strong>is the identifier of the       draggle image object, while <strong className="ph b">div</strong><em className="ph i"><strong className="ph b">div2 </strong></em>identifies       the destination rectangle element.</p></li><li className="li"><p className="p">Create a package inside Keywords with the name       <strong className="ph b">         <em className="ph i">dnd.</em>       </strong>     </p></li><li className="li"><p className="p">Create a keyword class named       <strong className="ph b">         <em className="ph i">DragAndDropHelper</em>       </strong> and open it. Copy the       following scripts to create the custom keyword:</p><pre className="pre codeblock"><code>package html5.dnd{"\n"} {"\n"}import org.openqa.selenium.JavascriptExecutor{"\n"}import org.openqa.selenium.WebDriver{"\n"}import org.openqa.selenium.WebElement{"\n"}import com.kms.katalon.core.annotation.Keyword{"\n"}import com.kms.katalon.core.testobject.TestObject{"\n"}import com.kms.katalon.core.webui.driver.DriverFactory{"\n"}import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords{"\n"} {"\n"}public class DragAndDropHelper {"{"}{"\n"}private static String getJsDndHelper() {"{"}{"\n"}return '''{"\n"}function simulateDragDrop(sourceNode, destinationNode) {"{"}{"\n"}var EVENT_TYPES = {"{"}{"\n"}DRAG_END: 'dragend',{"\n"}DRAG_START: 'dragstart',{"\n"}DROP: 'drop'{"\n"}{"}"}{"\n"} {"\n"}function createCustomEvent(type) {"{"}{"\n"}var event = new CustomEvent("CustomEvent"){"\n"}event.initCustomEvent(type, true, true, null){"\n"}event.dataTransfer = {"{"}{"\n"}data: {"{"}{"\n"}{"}"},{"\n"}setData: function(type, val) {"{"}{"\n"}this.data[type] = val{"\n"}{"}"},{"\n"}getData: function(type) {"{"}{"\n"}return this.data[type]{"\n"}{"}"}{"\n"}{"}"}{"\n"}return event{"\n"}{"}"}{"\n"} {"\n"}function dispatchEvent(node, type, event) {"{"}{"\n"}if (node.dispatchEvent) {"{"}{"\n"}return node.dispatchEvent(event){"\n"}{"}"}{"\n"}if (node.fireEvent) {"{"}{"\n"}return node.fireEvent("on" + type, event){"\n"}{"}"}{"\n"}{"}"}{"\n"} {"\n"}var event = createCustomEvent(EVENT_TYPES.DRAG_START){"\n"}dispatchEvent(sourceNode, EVENT_TYPES.DRAG_START, event){"\n"} {"\n"}var dropEvent = createCustomEvent(EVENT_TYPES.DROP){"\n"}dropEvent.dataTransfer = event.dataTransfer{"\n"}dispatchEvent(destinationNode, EVENT_TYPES.DROP, dropEvent){"\n"} {"\n"}var dragEndEvent = createCustomEvent(EVENT_TYPES.DRAG_END){"\n"}dragEndEvent.dataTransfer = event.dataTransfer{"\n"}dispatchEvent(sourceNode, EVENT_TYPES.DRAG_END, dragEndEvent){"\n"}{"}"}{"\n"} {"\n"}''';{"\n"}{"}"}{"\n"} {"\n"}@Keyword{"\n"}def dragAndDrop(TestObject sourceObject, TestObject destinationObject) {"{"}{"\n"}WebElement sourceElement = WebUiBuiltInKeywords.findWebElement(sourceObject);{"\n"}WebElement destinationElement = WebUiBuiltInKeywords.findWebElement(destinationObject);{"\n"}WebDriver webDriver = DriverFactory.getWebDriver();{"\n"}((JavascriptExecutor) webDriver).executeScript(getJsDndHelper() + "simulateDragDrop(arguments[0], arguments[1])", sourceElement, destinationElement){"\n"}{"}"}{"\n"}{"}"}{"\n"}{"\n"}</code></pre><p className="p">This keyword uses the JavaScript function from <a className="xref j-external-link" href="https://gist.github.com/druska/624501b7209a74040175" target="_blank">https://gist.github.com/druska/624501b7209a74040175</a>       (thanks to <a className="xref j-external-link" href="https://gist.github.com/druska" target="_blank">Druska</a>) to       mimic HTML5 native events to simulate drag and drop for HTML5.</p></li><li className="li">     <p className="p">Use our newly created custom keyword. Create a test case with       the name <strong className="ph b">         <em className="ph i">HTML5 Drag And Drop</em>       </strong>, open it       then changing to the Script mode and pasting the following Groovy       code:</p>     <pre className="pre codeblock"><code>import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject{"\n"}import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI{"\n"}{"\n"}{"\n"}'Open the selected browser and navigate to our AUT website'{"\n"}WebUI.openBrowser('https://www.w3schools.com/html/html5_draganddrop.asp')'Use the previous custom keywords to perform the drag and drop action.'{"\n"}CustomKeywords.'html5.dnd.DragAndDropHelper.dragAndDrop'(findTestObject('Page_HTML5 Drag and Drop/img_drag1'), findTestObject({"\n"}'Page_HTML5 Drag and Drop/div_div2'))'Verify that the drag and drop action is performed successfully by checking the innerHTML of the destination element for the draggable image.'{"\n"}WebUI.verifyElementAttributeValue(findTestObject('Page_HTML5 Drag and Drop/div_div2'), 'innerHTML', '&lt;img src=\"img_w3slogo.gif\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"drag1\" alt=\"W3Schools\"&gt;',{"\n"}0)'Close the browser to clean up the testing environment.'{"\n"}WebUI.closeBrowser();{"\n"}{"\n"}</code></pre>     <p className="p">This sample project could be found <a className="xref j-external-link" href="https://github.com/katalon-studio/DragAndDropExample" target="_blank"><strong className="ph b">here</strong></a>       <strong className="ph b">.</strong>     </p></li><li className="li"><p className="p">Run the test case and you will notice that the W3Schools image       is dragged and dropped in the right rectangle successfully.</p></li></ol> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">We hope you enjoy the tutorial, please comment if you have any question or another solution to automate the drag &amp; drop testing. For additional tip &amp; tricks, access <a className="xref j-external-link" href="https://forum.katalon.com/tags/c/community-discussion/katalon-studio/7/tips-tricks" target="_blank"><strong className="ph b">Katalon Studio tutorial</strong></a>.</p> 
